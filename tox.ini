# content of: tox.ini , put in same dir as setup.py
[tox]
envlist = py36,py37,py38
skip_missing_interpreters = True

[testenv]
# install pytest in the virtualenv where commands will be executed
deps = -r requirements/testing.txt
commands =
    coverage erase
    pytest --basetemp {envtmpdir} --cov bentobox --cov-report term --cov-config {toxinidir}/etc/coverage.ini {posargs} {toxinidir}/tests
    coverage html -d {envtmpdir}/htmlcov

[testenv:lint]
# install pytest in the virtualenv where commands will be executed
deps = -r requirements/linting.txt
commands =
    pylint --rcfile={toxinidir}/etc/simple.ini {toxinidir}/src/bentobox

